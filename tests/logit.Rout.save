
R version 2.11.1 (2010-05-31)
Copyright (C) 2010 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(Zelig)
Loading required package: MASS
Loading required package: iterators
Loading required package: survival
Loading required package: splines

   ZELIG (Versions 4.0-0, built: 2010-09-28)
+----------------------------------------------------------------+
+  Please refer to http://gking.harvard.edu/zelig for full       +
+  documentation or help.zelig() for help with commands and      +
+  models support by Zelig.                                      +
+                                                                +
+  Zelig project citations:                                      +
+    Kosuke Imai, Gary King, and Olivia Lau.  (2009).            +
+    ``Zelig: Everyone's Statistical Software,''                 +
+    http://gking.harvard.edu/zelig                              +
+   and                                                          +
+    Kosuke Imai, Gary King, and Olivia Lau. (2008).             +
+    ``Toward A Common Framework for Statistical Analysis        +
+    and Development,'' Journal of Computational and             +
+    Graphical Statistics, Vol. 17, No. 4 (December)             +
+    pp. 892-913.                                                +
+                                                                +
+   To cite individual Zelig models, please use the citation     +
+   format printed with each model run and in the documentation. +
+----------------------------------------------------------------+

> 
> ##  Attaching the sample turnout dataset:
> data(turnout)
> 
> #####  Example 1:  Simple Example 
> 
> ##  Generating empirical estimates:
> z.out1 <- zelig(vote ~ age + race, model = "logit", data = turnout)
How to cite this model in Zelig:
Kosuke Imai, Gary King, and Olivia Lau. 2008. "logit: Logistic Regression for Dichotomous Dependent Variables" in Kosuke Imai, Gary King, and Olivia Lau, "Zelig: Everyone's Statistical Software,"http://gking.harvard.edu/zelig

> 
> 
> ##  Viewing the regression output:
> summary(z.out1)

Call:
glm(formula = vote ~ age + race, family = binomial(link = "logit"), 
    model = F)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-1.9268  -1.2962   0.7072   0.7766   1.0723  

Coefficients:
            Estimate Std. Error z value Pr(>|z|)    
(Intercept) 0.038365   0.176920   0.217 0.828325    
age         0.011263   0.003053   3.689 0.000225 ***
racewhite   0.645551   0.134482   4.800 1.58e-06 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 2266.7  on 1999  degrees of freedom
Residual deviance: 2228.8  on 1997  degrees of freedom
AIC: 2234.8

Number of Fisher Scoring iterations: 4

> 
> 
> ##  Using setx to generate baseline and alternative velus for the
> ##  explanatory variables.  
> 
> x.out1 <- setx(z.out1, age = 36, race = "white")
> x.out1

model name: logit       
formula:    vote ~ age + race
cond:       No
results of fn:
  age  = 36
  race = white

> ##  Simulating quantities of interest (predicted probabilites, risk
> ##  ratios, and risk differences):
> 
> s.out1 <- sim(z.out1, x = x.out1)
> 
> ## Summarizing the simulated quantities of interest:
> summary(s.out1)

Model: logit
Number of simulations: 1000

Values of X
      (Intercept) age racewhite
coef:           1  36         1


Expected Values: E(Y|X)
      mean         sd        50%       2.5%      97.5% 
0.74804964 0.01199139 0.74800370 0.72360166 0.77081200 

Predicted Values: Y|X
    0     1 
0.254 0.746 
> 
> ## Diagnostic plot of the s.out:
> 
> plot(s.out1)
> 
> ##  Example 2: First Differences
> 
> z.out2 <-  zelig(vote ~ race + educate, model = "logit", data =
+                  turnout)
How to cite this model in Zelig:
Kosuke Imai, Gary King, and Olivia Lau. 2008. "logit: Logistic Regression for Dichotomous Dependent Variables" in Kosuke Imai, Gary King, and Olivia Lau, "Zelig: Everyone's Statistical Software,"http://gking.harvard.edu/zelig

> 
> summary(z.out2)

Call:
glm(formula = vote ~ race + educate, family = binomial(link = "logit"), 
    model = F)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-2.2064  -0.8848   0.6710   0.7208   1.7192  

Coefficients:
            Estimate Std. Error z value Pr(>|z|)    
(Intercept)  -1.2189     0.2155  -5.657 1.54e-08 ***
racewhite     0.5022     0.1403   3.581 0.000343 ***
educate       0.1610     0.0164   9.818  < 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 2266.7  on 1999  degrees of freedom
Residual deviance: 2138.3  on 1997  degrees of freedom
AIC: 2144.3

Number of Fisher Scoring iterations: 4

> 
> 
> x.high <- setx(z.out2, educate = quantile(turnout$educate, prob = 0.75))
> x.low <- setx(z.out2, educate = quantile(turnout$educate, prob = 0.25))
> x.high

model name: logit       
formula:    vote ~ race + educate
cond:       No
results of fn:
  race    = white
  educate = 14

> x.low

model name: logit       
formula:    vote ~ race + educate
cond:       No
results of fn:
  race    = white
  educate = 10

> 
> s.out2 <- sim(z.out2, x = x.high, x1 = x.low)
> 
> plot(s.out2)
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
